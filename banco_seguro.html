<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <title>Sistema Bancário - SEGURO</title>
    <style>
        body {
            font-family: 'Segoe UI', sans-serif;
            padding: 30px;
            background-color: #f4f4f9;
            display: flex;
            justify-content: center;
        }

        .card {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 400px;
            text-align: center;
        }

        h1 {
            color: #d9534f;
            margin-top: 0;
        }

        .saldo-box {
            background: #fff5f5;
            border: 2px dashed #d9534f;
            padding: 20px;
            margin: 20px 0;
            border-radius: 10px;
        }

        .valor {
            font-size: 32px;
            font-weight: bold;
            color: #333;
            display: block;
        }

        .btn-hack {
            background: #d9534f;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            width: 100%;
            transition: 0.3s;
        }

        .btn-hack:hover {
            background: #c9302c;
        }

        .log {
            font-size: 0.85em;
            color: #666;
            margin-top: 15px;
            font-style: italic;
        }
    </style>
</head>

<body>

    <div class="card">
        <h1>Banco Inseguro</h1>
        <p>Cliente: <strong id="nomeTela">João Silva</strong></p>

        <div class="saldo-box">
            <span>Saldo Atual:</span>
            <span class="valor" id="saldoTela">R$ 100.00</span>
        </div>

        <button class="btn-hack" onclick="sincronizar()">Sincronizar com o Objeto</button>

        <p class="log">Altere o saldo no console e clique em Sincronizar.</p>
    </div>

    <script>
        // A CLASSE SEM PROTEÇÃO (Igual a aula 17)
        class ContaBancaria {
            #saldo =0; 
            constructor(cliente, saldoInicial) {
                this.cliente = cliente;
                this.#saldo = saldoInicial; // Privado: porta fechada
            }
        }
         //inserir o get (VISOR): permite ler o saldo
        get saldo(){
            return this.#saldo

        }

        //SETTER - inserir o set (PORTEIRO) - fiscalizar o preenchimento da informação que vai preencher #saldo
        set saldo(NovoValor){
            if (typeof NovoValor ==="number"&&NovoValor>0){
                this.#saldo = NovoValor;
                document.getElementById('feedback'). innerText="";
                console.log(`Sucesso: Saldo alterado para R$ ${NovoValor}`);
            }
            else{
                document.getElementById('feedback').innerText="Erro: valor invpalido detectado";
                console.error("Tentativa de alteração bloqueda pelo Encapsulamento");
            }
        }

        // Criamos o objeto na memória
        const contaJoao = new ContaBancaria("João Silva", 100.00);

        // FUNÇÃO QUE ATUALIZA O DOM (A TELA)
        function sincronizar() {
            // Pegamos o elemento da tela
            const elementoSaldo = document.getElementById('saldoTela');

            // Atualizamos o texto da tela com o valor que estiver DENTRO do objeto
            elementoSaldo.innerText = "R$ " + contaJoao.saldo.toFixed(2);

            console.log("DOM atualizado com o valor seguro de objeto");
        }

        // Instruções iniciais no console
        console.log("--- TESTE DO TRIO DE FERRO ---", "Background: #222;color: #bada55; font-size: 14px; ");
        console.log("1. Tente burlar: contaJoao.saldo = -500");
        console.log("2. Tente burlar: conta.Joao.saldo= HACKEADO'");
        console.log("Tente acesso direto: contaJoao.#saldo = 5000");
    </script>
</body>

</html>